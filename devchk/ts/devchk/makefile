OBJS = hdrchk.o \
	GL_gl_h.o \
	GL_glu_h.o \
	GL_glx_h.o \
	X11_Composite_h.o \
	X11_CompositeP_h.o \
	X11_ConstrainP_h.o \
	X11_Constraint_h.o \
	X11_ICE_ICElib_h.o \
	X11_ICE_ICEutil_h.o \
	X11_Intrinsic_h.o \
	X11_ObjectP_h.o \
	X11_SM_SMlib_h.o \
	X11_X_h.o \
	X11_Xauth_h.o \
	X11_Xcms_h.o \
	X11_Xft_Xft_h.o \
	X11_Xlib_h.o \
	X11_Xutil_h.o \
	X11_extensions_XEVI_h.o \
	X11_extensions_Xrender_h.o \
	X11_extensions_render_h.o \
	X11_extensions_security_h.o \
	X11_extensions_sync_h.o \
	alsa_conf_h.o \
	alsa_control_h.o \
	alsa_control_external_h.o \
	alsa_error_h.o \
	alsa_global_h.o \
	alsa_hwdep_h.o \
	alsa_iatomic_h.o \
	alsa_input_h.o \
	alsa_instr_h.o \
	alsa_mixer_h.o \
	alsa_mixer_abst_h.o \
	alsa_output_h.o \
	alsa_pcm_h.o \
	alsa_pcm_extplug_h.o \
	alsa_pcm_plugin_h.o \
	alsa_rawmidi_h.o \
	alsa_seq_h.o \
	alsa_seq_event_h.o \
	alsa_seq_midi_event_h.o \
	alsa_seqmid_h.o \
	alsa_timer_h.o \
	atk_1_0_atk_atk_enum_types_h.o \
	atk_1_0_atk_atk_h.o \
	complex_h.o \
	cpio_h.o \
	ctype_h.o \
	cups_cups_h.o \
	cups_ppd_h.o \
	cups_raster_h.o \
	curses_h.o \
	dirent_h.o \
	dlfcn_h.o \
	errno_h.o \
	fcntl_h.o \
	fenv_h.o \
	fmtmsg_h.o \
	fnmatch_h.o \
	fontconfig_fcprivate_h.o \
	fontconfig_fontconfig_h.o \
	freetype_config_ftheader_h.o \
	freetype_config_ftoption_h.o \
	freetype_config_ftstdlib_h.o \
	freetype_freetype_h.o \
	freetype_ftbdf_h.o \
	freetype_fterrdef_h.o \
	freetype_fterrors_h.o \
	freetype_ftglyph_h.o \
	freetype_ftimage_h.o \
	freetype_ftincrem_h.o \
	freetype_ftlist_h.o \
	freetype_ftmm_h.o \
	freetype_ftmodapi_h.o \
	freetype_ftmoderr_h.o \
	freetype_ftotval_h.o \
	freetype_ftoutln_h.o \
	freetype_ftrender_h.o \
	freetype_ftsnames_h.o \
	freetype_ftstroke_h.o \
	freetype_ftsystem_h.o \
	freetype_fttrigon_h.o \
	freetype_fttypes_h.o \
	freetype_t1tables_h.o \
	freetype_ttnameid_h.o \
	freetype_tttables_h.o \
	freetype_tttags_h.o \
	freetype_ttunpat_h.o \
	ft2build_h.o \
	ftw_h.o \
	getopt_h.o \
	glib_2_0_glib_object_h.o \
	glib_2_0_glib_h.o \
	glib_2_0_glib_gstdio_h.o \
	glib_2_0_gmodule_h.o \
	glib_2_0_gobject_gvaluecollector_h.o \
	glob_h.o \
	grp_h.o \
	gtk_2_0_gdk_pixbuf_xlib_gdk_pixbuf_xlib_h.o \
	gtk_2_0_gdk_pixbuf_gdk_pixbuf_h.o \
	gtk_2_0_gdk_pixbuf_gdk_pixdata_h.o \
	gtk_2_0_gdk_gdk_h.o \
	gtk_2_0_gdk_gdkkeysyms_h.o \
	gtk_2_0_gdk_gdkx_h.o \
	gtk_2_0_gtk_gtk_h.o \
	iconv_h.o \
	inttypes_h.o \
	jpeglib_h.o \
	langinfo_h.o \
	libxml2_libxml_HTMLparser_h.o \
	libxml2_libxml_HTMLtree_h.o \
	libxml2_libxml_SAX2_h.o \
	libxml2_libxml_c14n_h.o \
	libxml2_libxml_catalog_h.o \
	libxml2_libxml_debugXML_h.o \
	libxml2_libxml_dict_h.o \
	libxml2_libxml_encoding_h.o \
	libxml2_libxml_entities_h.o \
	libxml2_libxml_globals_h.o \
	libxml2_libxml_hash_h.o \
	libxml2_libxml_list_h.o \
	libxml2_libxml_parser_h.o \
	libxml2_libxml_parserInternals_h.o \
	libxml2_libxml_pattern_h.o \
	libxml2_libxml_relaxng_h.o \
	libxml2_libxml_schematron_h.o \
	libxml2_libxml_threads_h.o \
	libxml2_libxml_tree_h.o \
	libxml2_libxml_uri_h.o \
	libxml2_libxml_valid_h.o \
	libxml2_libxml_xinclude_h.o \
	libxml2_libxml_xmlIO_h.o \
	libxml2_libxml_xmlautomata_h.o \
	libxml2_libxml_xmlerror_h.o \
	libxml2_libxml_xmlexports_h.o \
	libxml2_libxml_xmlmemory_h.o \
	libxml2_libxml_xmlmodule_h.o \
	libxml2_libxml_xmlreader_h.o \
	libxml2_libxml_xmlregexp_h.o \
	libxml2_libxml_xmlsave_h.o \
	libxml2_libxml_xmlschemas_h.o \
	libxml2_libxml_xmlschemastypes_h.o \
	libxml2_libxml_xmlstring_h.o \
	libxml2_libxml_xmlversion_h.o \
	libxml2_libxml_xmlwriter_h.o \
	libxml2_libxml_xpath_h.o \
	libxml2_libxml_xpathInternals_h.o \
	libxml2_libxml_xpointer_h.o \
	limits_h.o \
	locale_h.o \
	math_h.o \
	mqueue_h.o \
	net_if_h.o \
	netdb_h.o \
	netinet_in_h.o \
	netinet_ip_h.o \
	netinet_tcp_h.o \
	netinet_udp_h.o \
	nl_types_h.o \
	pango_1_0_pango_pango_h.o \
	pango_1_0_pango_pangofc_decoder_h.o \
	pango_1_0_pango_pangofc_fontmap_h.o \
	pango_1_0_pango_pangoft2_h.o \
	pango_1_0_pango_pangoxft_h.o \
	png_h.o \
	pthread_h.o \
	pwd_h.o \
	regex_h.o \
	rpc_auth_h.o \
	rpc_clnt_h.o \
	rpc_rpc_msg_h.o \
	rpc_svc_h.o \
	rpc_types_h.o \
	rpc_xdr_h.o \
	sched_h.o \
	search_h.o \
	security_pam_appl_h.o \
	semaphore_h.o \
	setjmp_h.o \
	signal_h.o \
	spawn_h.o \
	stddef_h.o \
	stdint_h.o \
	stdio_h.o \
	stdlib_h.o \
	sys_file_h.o \
	sys_ioctl_h.o \
	sys_ipc_h.o \
	sys_mman_h.o \
	sys_msg_h.o \
	sys_param_h.o \
	sys_poll_h.o \
	sys_resource_h.o \
	sys_sem_h.o \
	sys_shm_h.o \
	sys_socket_h.o \
	sys_stat_h.o \
	sys_statfs_h.o \
	sys_statvfs_h.o \
	sys_time_h.o \
	sys_timeb_h.o \
	sys_times_h.o \
	sys_types_h.o \
	sys_un_h.o \
	sys_utsname_h.o \
	sys_wait_h.o \
	syslog_h.o \
	tar_h.o \
	termios_h.o \
	time_h.o \
	ucontext_h.o \
	ulimit_h.o \
	unistd_h.o \
	unwind_h.o \
	utime_h.o \
	utmp_h.o \
	utmpx_h.o \
	wchar_h.o \
	wctype_h.o \
	wordexp_h.o \
	zlib_h.o \
	intrinsic.o \
	cxx.o 

ifdef TET_ROOT
LIBDIR = $(TET_ROOT)/lib/tet3
INCDIR = $(TET_ROOT)/inc/tet3
EXTRALIBS = $(LIBDIR)/tcm.o $(LIBDIR)/libapi.a
else
EXTRALIBS =
endif

# for LSB 3.2, must force the old 64-bit long double ABI for some arches
LDBL_FLAG:=$(shell case `uname -m` in (ppc|ppc64|s390|s390x) echo "-mlong-double-64";; (*) echo ;; esac)

ifdef LSB_PRODUCT
CFLAGS=-DLSBCC_MODE -D_ISOC99_SOURCE -D_XOPEN_SOURCE=600 -D_XOPEN_SOURCE_EXTENDED -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_BSD_SOURCE -D_SVID_SOURCE -D_GNU_SOURCE -DXLIB_ILLEGAL_ACCESS -I/usr/X11R6/include -I/opt/lsb/include/glib-2.0 -I/opt/lsb/include/atk-1.0 -I/opt/lsb/include/pango-1.0 -I/opt/lsb/include/gtk-2.0 -I/opt/lsb/include/libxml2 -I/opt/lsb/include/fontconfig
else
CFLAGS=$(LDBL_FLAG) -O -DQT_THREAD_SUPPORT -D_ISOC99_SOURCE -D_XOPEN_SOURCE=600 -D_XOPEN_SOURCE_EXTENDED -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_BSD_SOURCE -D_SVID_SOURCE -D_GNU_SOURCE -DXLIB_ILLEGAL_ACCESS -I/usr/X11R6/include -I/usr/include/glib-2.0 -I/usr/include/atk-1.0 -I/usr/include/pango-1.0 -I/usr/include/gtk-2.0 -I/usr/include/freetype2 -I/usr/lib64/gtk-2.0/include -I/usr/lib/gtk-2.0/include -I/usr/lib64/glib-2.0/include -I/usr/lib/glib-2.0/include -I/usr/include/libxml2 -I/usr/include/fontconfig -I/usr/include/cairo -I/usr/lib64/qt3/include -I/usr/lib/qt3/include -I/usr/lib64/qt-3.3/include -I/usr/lib/qt-3.3/include -I/opt/gnome/include -I/opt/gnome/include/atk-1.0 -I/opt/gnome/include/glib-2.0 -I/opt/gnome/include/gtk-2.0 -I/opt/gnome/include/pango-1.0 -I/opt/gnome/lib64/glib-2.0/include -I/opt/gnome/lib/glib-2.0/include -I/opt/gnome/lib64/gtk-2.0/include -I/opt/gnome/lib/gtk-2.0/include

endif

CXXFLAGS = $(CFLAGS)

ifdef TET_ROOT
CFLAGS += -DTET_TEST -I$(INCDIR)
endif

all: hdrchk

hdrchk: $(OBJS)
	$(CXX) -o hdrchk $(OBJS) $(EXTRALIBS) -L /usr/X11R6/lib64 -L/usr/X11R6/lib -L/usr/lib/qt3/lib64 -L/usr/lib/qt3/lib -L/usr/lib64/qt-3.3/lib -L/usr/lib/qt-3.3/lib -lXt -lX11 -lncurses -lqt-mt -lrt

hdrchk.o: hdrchk.c
	$(CC) $(CFLAGS) -g -c hdrchk.c


hdrchk.c:
	./mktests -v `cat LSB_VERSION`


install:


clean:
	rm -f $(OBJS) hdrchk

clobber:	clean
	rm -f *.c hdrchk_tet.h testdefs.h


distclean:	clobber
